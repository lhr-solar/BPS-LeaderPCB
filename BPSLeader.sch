EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 11
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L power:+3.3V #PWR09
U 1 1 5C25CF4C
P 7950 1500
F 0 "#PWR09" H 7950 1350 50  0001 C CNN
F 1 "+3.3V" H 7965 1673 50  0000 C CNN
F 2 "" H 7950 1500 50  0001 C CNN
F 3 "" H 7950 1500 50  0001 C CNN
	1    7950 1500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5C25D0A3
P 7950 1750
F 0 "C4" H 8065 1796 50  0000 L CNN
F 1 "0.1u" H 8065 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 7988 1600 50  0001 C CNN
F 3 "~" H 7950 1750 50  0001 C CNN
	1    7950 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C6
U 1 1 5C25D142
P 8400 1750
F 0 "C6" H 8515 1796 50  0000 L CNN
F 1 "0.1u" H 8515 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 8438 1600 50  0001 C CNN
F 3 "~" H 8400 1750 50  0001 C CNN
	1    8400 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C8
U 1 1 5C25D19E
P 8850 1750
F 0 "C8" H 8965 1796 50  0000 L CNN
F 1 "0.1u" H 8965 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 8888 1600 50  0001 C CNN
F 3 "~" H 8850 1750 50  0001 C CNN
	1    8850 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C10
U 1 1 5C25D1E2
P 9300 1750
F 0 "C10" H 9415 1796 50  0000 L CNN
F 1 "0.1u" H 9415 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9338 1600 50  0001 C CNN
F 3 "~" H 9300 1750 50  0001 C CNN
	1    9300 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:C C11
U 1 1 5C25D362
P 9750 1750
F 0 "C11" H 9868 1796 50  0000 L CNN
F 1 "4.7u" H 9868 1705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9788 1600 50  0001 C CNN
F 3 "~" H 9750 1750 50  0001 C CNN
	1    9750 1750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 1500 7950 1550
Wire Wire Line
	7950 1550 8400 1550
Connection ~ 7950 1550
Wire Wire Line
	7950 1550 7950 1600
Wire Wire Line
	9750 1600 9750 1550
Wire Wire Line
	9300 1550 9300 1600
Connection ~ 9300 1550
Wire Wire Line
	9300 1550 9750 1550
Wire Wire Line
	8850 1600 8850 1550
Connection ~ 8850 1550
Wire Wire Line
	8850 1550 9300 1550
Wire Wire Line
	8400 1600 8400 1550
Connection ~ 8400 1550
Wire Wire Line
	8400 1550 8850 1550
Text Notes 8150 1450 0    50   ~ 0
Place these capacitors as close to mcu as possible for correct operation.\nVDD/VSS
Wire Wire Line
	7950 1900 7950 1950
Wire Wire Line
	7950 1950 8400 1950
Wire Wire Line
	9750 1900 9750 1950
Wire Wire Line
	9300 1900 9300 1950
Connection ~ 9300 1950
Wire Wire Line
	9300 1950 9750 1950
Wire Wire Line
	8850 1900 8850 1950
Connection ~ 8850 1950
Wire Wire Line
	8850 1950 9300 1950
Wire Wire Line
	8400 1900 8400 1950
Connection ~ 8400 1950
Wire Wire Line
	8400 1950 8850 1950
$Comp
L power:GND #PWR010
U 1 1 5C25E677
P 7950 2000
F 0 "#PWR010" H 7950 1750 50  0001 C CNN
F 1 "GND" H 7955 1827 50  0000 C CNN
F 2 "" H 7950 2000 50  0001 C CNN
F 3 "" H 7950 2000 50  0001 C CNN
	1    7950 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 2000 7950 1950
Connection ~ 7950 1950
$Comp
L power:+3.3V #PWR011
U 1 1 5C25EB0C
P 7950 2650
F 0 "#PWR011" H 7950 2500 50  0001 C CNN
F 1 "+3.3V" H 7965 2823 50  0000 C CNN
F 2 "" H 7950 2650 50  0001 C CNN
F 3 "" H 7950 2650 50  0001 C CNN
	1    7950 2650
	1    0    0    -1  
$EndComp
$Comp
L Device:C C5
U 1 1 5C25EB12
P 7950 2900
F 0 "C5" H 8065 2946 50  0000 L CNN
F 1 "0.1u" H 8065 2855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 7988 2750 50  0001 C CNN
F 3 "~" H 7950 2900 50  0001 C CNN
	1    7950 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 2650 7950 2700
Wire Wire Line
	7950 2700 8400 2700
Connection ~ 7950 2700
Wire Wire Line
	7950 2700 7950 2750
Wire Wire Line
	8400 2750 8400 2700
Text Notes 7900 2400 0    50   ~ 0
VDDA/VSSA (VREF+/VREF-)
Wire Wire Line
	7950 3050 7950 3100
Wire Wire Line
	7950 3100 8400 3100
Wire Wire Line
	8400 3050 8400 3100
$Comp
L power:GND #PWR012
U 1 1 5C25EB2D
P 7950 3150
F 0 "#PWR012" H 7950 2900 50  0001 C CNN
F 1 "GND" H 7955 2977 50  0000 C CNN
F 2 "" H 7950 3150 50  0001 C CNN
F 3 "" H 7950 3150 50  0001 C CNN
	1    7950 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 3150 7950 3100
Connection ~ 7950 3100
$Comp
L Device:C C7
U 1 1 5C25F2B0
P 8400 2900
F 0 "C7" H 8518 2946 50  0000 L CNN
F 1 "1u" H 8518 2855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 8438 2750 50  0001 C CNN
F 3 "~" H 8400 2900 50  0001 C CNN
	1    8400 2900
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5C2630B5
P 6000 5800
F 0 "#PWR08" H 6000 5550 50  0001 C CNN
F 1 "GND" H 6005 5627 50  0000 C CNN
F 2 "" H 6000 5800 50  0001 C CNN
F 3 "" H 6000 5800 50  0001 C CNN
	1    6000 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 5800 6000 5750
Wire Wire Line
	6000 5750 5900 5750
Wire Wire Line
	5600 5750 5600 5700
Connection ~ 6000 5750
Wire Wire Line
	6000 5750 6000 5700
Wire Wire Line
	5700 5700 5700 5750
Connection ~ 5700 5750
Wire Wire Line
	5700 5750 5600 5750
Wire Wire Line
	5800 5700 5800 5750
Connection ~ 5800 5750
Wire Wire Line
	5800 5750 5700 5750
Wire Wire Line
	5900 5700 5900 5750
Connection ~ 5900 5750
Wire Wire Line
	5900 5750 5800 5750
$Comp
L power:+3.3V #PWR07
U 1 1 5C266E76
P 5600 2100
F 0 "#PWR07" H 5600 1950 50  0001 C CNN
F 1 "+3.3V" H 5615 2273 50  0000 C CNN
F 2 "" H 5600 2100 50  0001 C CNN
F 3 "" H 5600 2100 50  0001 C CNN
	1    5600 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5600 2200 5600 2150
Wire Wire Line
	5600 2150 5700 2150
Wire Wire Line
	6100 2150 6100 2200
Connection ~ 5600 2150
Wire Wire Line
	5600 2150 5600 2100
Wire Wire Line
	5700 2200 5700 2150
Connection ~ 5700 2150
Wire Wire Line
	5700 2150 5800 2150
Wire Wire Line
	5800 2200 5800 2150
Connection ~ 5800 2150
Wire Wire Line
	5800 2150 5900 2150
Wire Wire Line
	5900 2200 5900 2150
Connection ~ 5900 2150
Wire Wire Line
	5900 2150 6000 2150
Wire Wire Line
	6000 2200 6000 2150
Connection ~ 6000 2150
Wire Wire Line
	6000 2150 6100 2150
$Comp
L Device:C C3
U 1 1 5C26E1B5
P 4850 3000
F 0 "C3" H 4968 3046 50  0000 L CNN
F 1 "4.7u" H 4968 2955 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 4888 2850 50  0001 C CNN
F 3 "~" H 4850 3000 50  0001 C CNN
F 4 "Low ESR <1Ohm" H 4850 3000 50  0001 C CNN "Note"
	1    4850 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 2850 4850 2800
$Comp
L power:GND #PWR06
U 1 1 5C26F621
P 4850 3200
F 0 "#PWR06" H 4850 2950 50  0001 C CNN
F 1 "GND" H 4855 3027 50  0000 C CNN
F 2 "" H 4850 3200 50  0001 C CNN
F 3 "" H 4850 3200 50  0001 C CNN
	1    4850 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 3200 4850 3150
$Comp
L power:GND #PWR05
U 1 1 5C271031
P 4600 2600
F 0 "#PWR05" H 4600 2350 50  0001 C CNN
F 1 "GND" V 4605 2472 50  0000 R CNN
F 2 "" H 4600 2600 50  0001 C CNN
F 3 "" H 4600 2600 50  0001 C CNN
	1    4600 2600
	0    1    1    0   
$EndComp
Wire Wire Line
	4600 2600 5100 2600
Wire Wire Line
	4850 2800 5100 2800
Wire Wire Line
	7000 3800 6500 3800
Text Label 4600 3600 0    50   ~ 0
OSC_OUT
Text Label 4600 3500 0    50   ~ 0
OSC_IN
Wire Wire Line
	6500 3700 7000 3700
Text Label 7000 3700 2    50   ~ 0
SWDIO
Text Label 7000 3800 2    50   ~ 0
SWCLK
Text Label 7000 5100 2    50   ~ 0
USART3_TX
Text Label 4600 4500 0    50   ~ 0
USART3_RX
Wire Wire Line
	6500 4900 7000 4900
Text Label 7000 4900 2    50   ~ 0
CAN1_RX
Wire Wire Line
	6500 5000 7000 5000
Text Label 7000 5000 2    50   ~ 0
CAN1_TX
Wire Wire Line
	6500 4400 7000 4400
Wire Wire Line
	6500 4500 7000 4500
Wire Wire Line
	6500 4600 7000 4600
Text Label 7000 4400 2    50   ~ 0
SPI1_CLK
Text Label 7000 4500 2    50   ~ 0
SPI1_MISO
Text Label 7000 4600 2    50   ~ 0
SPI1_MOSI
Wire Wire Line
	5100 4900 4600 4900
Wire Wire Line
	6500 3200 7000 3200
Text Label 7000 3200 2    50   ~ 0
I2C3_SCL
Text Label 4600 4900 0    50   ~ 0
I2C3_SDA
$Sheet
S 800  700  1000 500 
U 5C29E573
F0 "Power Distribution" 50
F1 "PowerDist.sch" 50
F2 "+3.3V" O R 1800 950 50 
F3 "GND" O R 1800 1050 50 
F4 "+5V" O R 1800 850 50 
$EndSheet
$Comp
L power:GND #PWR02
U 1 1 5C36B807
P 2000 1100
F 0 "#PWR02" H 2000 850 50  0001 C CNN
F 1 "GND" H 2005 927 50  0000 C CNN
F 2 "" H 2000 1100 50  0001 C CNN
F 3 "" H 2000 1100 50  0001 C CNN
	1    2000 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 1100 2000 1050
Wire Wire Line
	2000 1050 1800 1050
$Comp
L power:+3.3V #PWR03
U 1 1 5C36DC17
P 2200 900
F 0 "#PWR03" H 2200 750 50  0001 C CNN
F 1 "+3.3V" H 2215 1073 50  0000 C CNN
F 2 "" H 2200 900 50  0001 C CNN
F 3 "" H 2200 900 50  0001 C CNN
	1    2200 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2200 900  2200 950 
$Comp
L power:+5V #PWR01
U 1 1 5C381C22
P 2000 800
F 0 "#PWR01" H 2000 650 50  0001 C CNN
F 1 "+5V" H 2015 973 50  0000 C CNN
F 2 "" H 2000 800 50  0001 C CNN
F 3 "" H 2000 800 50  0001 C CNN
	1    2000 800 
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 850  2000 850 
Wire Wire Line
	2000 850  2000 800 
Wire Wire Line
	1800 950  2200 950 
Text Notes 2450 1050 0    50   ~ 0
Isolated +5V and +3.3V.\nUse GND as local gnd for all board electronic components.\nConnect GNDPWR when using +12V.
$Comp
L Device:C C9
U 1 1 5C32FFDF
P 9100 2900
F 0 "C9" H 9215 2946 50  0000 L CNN
F 1 "0.1u" H 9215 2855 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 9138 2750 50  0001 C CNN
F 3 "~" H 9100 2900 50  0001 C CNN
	1    9100 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 2650 9550 2650
Wire Wire Line
	9100 3150 9550 3150
$Comp
L power:GND #PWR017
U 1 1 5C336510
P 9100 3200
F 0 "#PWR017" H 9100 2950 50  0001 C CNN
F 1 "GND" H 9105 3027 50  0000 C CNN
F 2 "" H 9100 3200 50  0001 C CNN
F 3 "" H 9100 3200 50  0001 C CNN
	1    9100 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	9100 3200 9100 3150
Connection ~ 9100 3150
$Comp
L Switch:SW_Push SW1
U 1 1 5C339C0A
P 9550 2900
F 0 "SW1" V 9504 3048 50  0000 L CNN
F 1 "B3SL-1002P" V 9595 3048 50  0000 L CNN
F 2 "Button_Switch_SMD:SW_SPST_B3SL-1002P" H 9550 3100 50  0001 C CNN
F 3 "" H 9550 3100 50  0001 C CNN
	1    9550 2900
	0    1    1    0   
$EndComp
Wire Wire Line
	9100 3050 9100 3150
Wire Wire Line
	9100 2650 9100 2750
Wire Wire Line
	9550 2650 9550 2700
Wire Wire Line
	9550 3100 9550 3150
Wire Wire Line
	5100 2400 4600 2400
Text Label 4600 2400 0    50   ~ 0
NRST
Text Label 9100 2650 0    50   ~ 0
NRST
$Sheet
S 800  2700 1000 300 
U 5C350CEA
F0 "EEPROM" 50
F1 "EEPROM.sch" 50
F2 "SDA" B R 1800 2900 50 
F3 "SCL" B R 1800 2800 50 
$EndSheet
Wire Wire Line
	1800 2900 2300 2900
Text Label 2300 2900 2    50   ~ 0
I2C3_SDA
Wire Wire Line
	1800 2800 2300 2800
Text Label 2300 2800 2    50   ~ 0
I2C3_SCL
Wire Wire Line
	6500 4100 7000 4100
Wire Wire Line
	7000 4200 6500 4200
Text Label 7000 4100 2    50   ~ 0
PB0
Text Label 7000 4200 2    50   ~ 0
PB1
Wire Wire Line
	1800 1700 2300 1700
Text Label 2300 1700 2    50   ~ 0
CAN1_RX
Wire Wire Line
	1800 1600 2300 1600
Text Label 2300 1600 2    50   ~ 0
CAN1_TX
$Comp
L Device:Crystal Y1
U 1 1 5C3BE613
P 4250 3550
F 0 "Y1" V 4350 3700 50  0000 C CNN
F 1 "8M" V 4250 3550 50  0000 C CNN
F 2 "Crystal:Crystal_SMD_TXC_7A-2Pin_5x3.2mm" H 4250 3550 50  0001 C CNN
F 3 "~" H 4250 3550 50  0001 C CNN
F 4 "CRYSTAL 8.0000MHZ 18PF SMD" H 4250 3550 50  0001 C CNN "P/N"
	1    4250 3550
	0    1    1    0   
$EndComp
$Comp
L Device:C C2
U 1 1 5C3C7C2B
P 3900 3750
F 0 "C2" H 4015 3796 50  0000 L CNN
F 1 "10p" H 4015 3705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3938 3600 50  0001 C CNN
F 3 "~" H 3900 3750 50  0001 C CNN
	1    3900 3750
	0    1    1    0   
$EndComp
$Comp
L Device:C C1
U 1 1 5C3C7D18
P 3900 3350
F 0 "C1" H 4015 3396 50  0000 L CNN
F 1 "10p" H 4015 3305 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 3938 3200 50  0001 C CNN
F 3 "~" H 3900 3350 50  0001 C CNN
	1    3900 3350
	0    1    1    0   
$EndComp
Wire Wire Line
	4250 3750 4050 3750
$Comp
L power:GND #PWR04
U 1 1 5C3D1383
P 3700 3850
F 0 "#PWR04" H 3700 3600 50  0001 C CNN
F 1 "GND" H 3705 3677 50  0000 C CNN
F 2 "" H 3700 3850 50  0001 C CNN
F 3 "" H 3700 3850 50  0001 C CNN
	1    3700 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 3350 3700 3750
Wire Wire Line
	3700 3750 3750 3750
Text Notes 2850 3200 0    50   ~ 0
The crystal and caps have to be as \nclose to the uC as possible and\nusually no traces should go underneath\nthese components or connections.\nExceptions are possible with boards with\nmore than 2 layers though...
Wire Wire Line
	5100 4300 4600 4300
Wire Wire Line
	4600 4200 5100 4200
Wire Wire Line
	5100 4100 4600 4100
Wire Wire Line
	4600 4000 5100 4000
Wire Wire Line
	1800 2200 2300 2200
Wire Wire Line
	2300 2300 1800 2300
Text Label 2300 2200 2    50   ~ 0
PB0
Text Label 2300 2300 2    50   ~ 0
PB1
Text Label 4600 4000 0    50   ~ 0
PC0
Text Label 4600 4100 0    50   ~ 0
PC1
Text Label 4600 4200 0    50   ~ 0
PC2
Text Label 4600 4300 0    50   ~ 0
PC3
$Comp
L Connector_Generic:Conn_01x04 J5
U 1 1 5C3F3A77
P 10850 2700
F 0 "J5" H 11050 2600 50  0000 R CNN
F 1 "SWD" H 11100 2700 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical" H 10850 2700 50  0001 C CNN
F 3 "~" H 10850 2700 50  0001 C CNN
	1    10850 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	10150 2700 10650 2700
Wire Wire Line
	10650 2800 10150 2800
Text Label 10150 2800 0    50   ~ 0
SWDIO
Text Label 10150 2700 0    50   ~ 0
SWCLK
Text Notes 10850 3350 2    50   ~ 0
Programming Pins.
$Comp
L power:GND #PWR020
U 1 1 5C410349
P 10550 3000
F 0 "#PWR020" H 10550 2750 50  0001 C CNN
F 1 "GND" H 10555 2827 50  0000 C CNN
F 2 "" H 10550 3000 50  0001 C CNN
F 3 "" H 10550 3000 50  0001 C CNN
	1    10550 3000
	1    0    0    -1  
$EndComp
Wire Wire Line
	10550 3000 10550 2900
Wire Wire Line
	10550 2900 10650 2900
$Sheet
S 800  5800 1000 300 
U 5C392C6A
F0 "LEDs" 50
F1 "LEDs.sch" 50
F2 "PC[0..5]" I R 1800 5900 50 
F3 "PA[4..7]" I R 1800 6000 50 
$EndSheet
Text Notes 8650 1150 0    100  ~ 20
Bypass Capacitors
Entry Wire Line
	4500 4200 4600 4300
Entry Wire Line
	4500 4100 4600 4200
Entry Wire Line
	4500 4000 4600 4100
Text Label 4500 4400 2    50   ~ 0
PC[0..5]
Text Label 2300 5900 2    50   ~ 0
PC[0..5]
Wire Wire Line
	6500 2900 7000 2900
Wire Wire Line
	6500 3000 7000 3000
Text Label 7000 2900 2    50   ~ 0
PA5
Text Label 7000 3000 2    50   ~ 0
PA6
Entry Wire Line
	7000 3000 7100 2900
Text Label 7100 2600 0    50   ~ 0
PA[4..7]
Wire Bus Line
	1800 5900 2300 5900
Wire Bus Line
	1800 6000 2300 6000
Text Label 2300 6000 2    50   ~ 0
PA[4..7]
$Comp
L Mechanical:MountingHole MH1
U 1 1 5C9FCF93
P 7300 850
F 0 "MH1" H 7400 896 50  0000 L CNN
F 1 "M.3" H 7400 805 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm" H 7300 850 50  0001 C CNN
F 3 "~" H 7300 850 50  0001 C CNN
	1    7300 850 
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole MH2
U 1 1 5C9FD035
P 7300 1100
F 0 "MH2" H 7400 1146 50  0000 L CNN
F 1 "M.3" H 7400 1055 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm" H 7300 1100 50  0001 C CNN
F 3 "~" H 7300 1100 50  0001 C CNN
	1    7300 1100
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole MH3
U 1 1 5C9FD071
P 7300 1350
F 0 "MH3" H 7400 1396 50  0000 L CNN
F 1 "M.3" H 7400 1305 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm" H 7300 1350 50  0001 C CNN
F 3 "~" H 7300 1350 50  0001 C CNN
	1    7300 1350
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole MH4
U 1 1 5C9FD0C3
P 7300 1600
F 0 "MH4" H 7400 1646 50  0000 L CNN
F 1 "M.3" H 7400 1555 50  0000 L CNN
F 2 "MountingHole:MountingHole_3mm" H 7300 1600 50  0001 C CNN
F 3 "~" H 7300 1600 50  0001 C CNN
	1    7300 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 3350 3750 3350
Wire Wire Line
	4050 3350 4250 3350
NoConn ~ 5100 5500
NoConn ~ 5100 5400
NoConn ~ 5100 5300
NoConn ~ 6500 4300
NoConn ~ 6500 2500
$Comp
L power:PWR_FLAG #FLG01
U 1 1 5CC7D7CD
P 4800 2800
F 0 "#FLG01" H 4800 2875 50  0001 C CNN
F 1 "PWR_FLAG" V 4800 2928 50  0000 L CNN
F 2 "" H 4800 2800 50  0001 C CNN
F 3 "~" H 4800 2800 50  0001 C CNN
	1    4800 2800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4800 2800 4850 2800
Connection ~ 4850 2800
Wire Wire Line
	6500 3100 7000 3100
Text Label 7000 3100 2    50   ~ 0
PA7
Entry Wire Line
	7000 3100 7100 3000
Wire Wire Line
	6500 5200 7000 5200
Text Label 7000 5200 2    50   ~ 0
FAULT
Wire Wire Line
	1800 4700 2300 4700
Text Label 2300 4700 2    50   ~ 0
FAULT
Wire Wire Line
	5100 4400 4600 4400
Text Label 4600 4400 0    50   ~ 0
PC4
Wire Wire Line
	4250 3350 4250 3400
Wire Wire Line
	4250 3700 4250 3750
Wire Wire Line
	4250 3750 4450 3750
Wire Wire Line
	4450 3750 4450 3600
Wire Wire Line
	4450 3600 5100 3600
Connection ~ 4250 3750
Wire Wire Line
	4450 3500 4450 3350
Wire Wire Line
	4450 3350 4250 3350
Wire Wire Line
	4450 3500 5100 3500
Connection ~ 4250 3350
Wire Wire Line
	3700 3850 3700 3750
Connection ~ 3700 3750
$Comp
L power:+3.3V #PWR019
U 1 1 5D8871C1
P 10550 2500
F 0 "#PWR019" H 10550 2350 50  0001 C CNN
F 1 "+3.3V" H 10565 2673 50  0000 C CNN
F 2 "" H 10550 2500 50  0001 C CNN
F 3 "" H 10550 2500 50  0001 C CNN
	1    10550 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	10550 2500 10550 2600
Wire Wire Line
	10550 2600 10650 2600
NoConn ~ 6500 4800
Wire Wire Line
	5100 4500 4600 4500
Wire Wire Line
	6500 5100 7000 5100
Wire Wire Line
	1800 3400 2300 3400
Wire Wire Line
	1800 3600 2300 3600
Wire Wire Line
	1800 3500 2300 3500
Wire Wire Line
	1800 3700 2300 3700
Text Label 2300 3400 2    50   ~ 0
SPI1_CLK
Text Label 2300 3600 2    50   ~ 0
SPI1_MISO
Text Label 2300 3500 2    50   ~ 0
SPI1_MOSI
Text Label 2300 3700 2    50   ~ 0
PD2
$Sheet
S 800  3300 1000 1000
U 5D766247
F0 "Sensor Boards Interface" 50
F1 "SensorBrdInterface.sch" 50
F2 "I_MOSI" I R 1800 4000 50 
F3 "I_MISO" O R 1800 4100 50 
F4 "I_CLK" I R 1800 3900 50 
F5 "I_CS" I R 1800 4200 50 
F6 "VT_MOSI" I R 1800 3500 50 
F7 "VT_MISO" O R 1800 3600 50 
F8 "VT_CLK" I R 1800 3400 50 
F9 "VT_CS" I R 1800 3700 50 
$EndSheet
$Sheet
S 800  2100 1000 300 
U 5C38C674
F0 "Contactor Driver" 50
F1 "Contactor.sch" 50
F2 "CONTACTOR_CHECK" O R 1800 2300 50 
F3 "CONTACTOR_EN" I R 1800 2200 50 
$EndSheet
$Sheet
S 800  1500 1000 300 
U 5C2F0362
F0 "CAN" 50
F1 "CAN.sch" 50
F2 "CAN_TX" I R 1800 1600 50 
F3 "CAN_RX" O R 1800 1700 50 
$EndSheet
$Sheet
S 800  4600 1000 400 
U 5D923D59
F0 "Error Light" 50
F1 "ErrorLight.sch" 50
F2 "FAULT" I R 1800 4700 50 
$EndSheet
$Sheet
S 800  5250 1000 300 
U 5D99F192
F0 "USB" 50
F1 "USB.sch" 50
F2 "UART_RX" I R 1800 5350 50 
F3 "UART_TX" O R 1800 5450 50 
$EndSheet
Text Label 2300 5350 2    50   ~ 0
USART3_TX
Wire Wire Line
	1800 5350 2300 5350
Text Label 2300 5450 2    50   ~ 0
USART3_RX
Wire Wire Line
	1800 5450 2300 5450
$Comp
L power:GND #PWR013
U 1 1 5D8E306E
P 8600 4750
F 0 "#PWR013" H 8600 4500 50  0001 C CNN
F 1 "GND" H 8605 4577 50  0000 C CNN
F 2 "" H 8600 4750 50  0001 C CNN
F 3 "" H 8600 4750 50  0001 C CNN
	1    8600 4750
	0    1    1    0   
$EndComp
Wire Wire Line
	8600 4750 9100 4750
$Comp
L Connector_Generic:Conn_01x03 J4
U 1 1 5D9A509E
P 9300 6000
F 0 "J4" H 9380 6042 50  0000 L CNN
F 1 "CAN Analyzer" H 9380 5951 50  0000 L CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x03_P2.54mm_Vertical" H 9300 6000 50  0001 C CNN
F 3 "~" H 9300 6000 50  0001 C CNN
	1    9300 6000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 5D9A6376
P 8600 5900
F 0 "#PWR015" H 8600 5650 50  0001 C CNN
F 1 "GND" H 8605 5727 50  0000 C CNN
F 2 "" H 8600 5900 50  0001 C CNN
F 3 "" H 8600 5900 50  0001 C CNN
	1    8600 5900
	0    1    1    0   
$EndComp
Wire Wire Line
	8600 5900 9100 5900
Wire Wire Line
	9100 6000 8600 6000
Text Label 8600 6000 0    50   ~ 0
CAN1_RX
Wire Wire Line
	9100 6100 8600 6100
Text Label 8600 6100 0    50   ~ 0
CAN1_TX
NoConn ~ 5100 4800
NoConn ~ 6500 5300
Wire Wire Line
	9100 4850 8600 4850
Wire Wire Line
	9100 4950 8600 4950
Wire Wire Line
	9100 5050 8600 5050
Text Label 8600 4950 0    50   ~ 0
SPI1_MISO
$Sheet
S 800  6350 1000 500 
U 5F145F02
F0 "Fan Board Interface" 50
F1 "FanBrdInterface.sch" 50
F2 "PWM1" I R 1800 6450 50 
F3 "PWM2" I R 1800 6550 50 
F4 "PWM3" I R 1800 6650 50 
F5 "PWM4" I R 1800 6750 50 
$EndSheet
Wire Wire Line
	5100 5000 4600 5000
Wire Wire Line
	4600 5100 5100 5100
Wire Wire Line
	5100 5200 4600 5200
Text Label 4600 5200 0    50   ~ 0
SPI3_MOSI
Text Label 4600 5100 0    50   ~ 0
SPI3_MISO
Text Label 2300 3900 2    50   ~ 0
SPI3_CLK
Entry Wire Line
	4500 3900 4600 4000
Wire Wire Line
	5100 3800 4600 3800
Text Label 4600 3800 0    50   ~ 0
PD2
NoConn ~ 6500 4700
Wire Wire Line
	6500 3900 7000 3900
Text Label 7000 3900 2    50   ~ 0
PA15
Text Notes 750  4250 1    50   ~ 0
VT: Voltage/Temperature\nI: Current (Amperes)
Wire Wire Line
	1800 3900 2300 3900
Wire Wire Line
	2300 4000 1800 4000
Wire Wire Line
	1800 4100 2300 4100
Wire Wire Line
	2300 4200 1800 4200
Text Label 2300 4200 2    50   ~ 0
PA15
Text Label 4600 5000 0    50   ~ 0
SPI3_CLK
Text Label 2300 4100 2    50   ~ 0
SPI3_MISO
Text Label 2300 4000 2    50   ~ 0
SPI3_MOSI
Wire Wire Line
	5100 4600 4600 4600
Wire Wire Line
	4600 4700 5100 4700
Text Label 4600 4600 0    50   ~ 0
TIM3_CH1
Text Label 4600 4700 0    50   ~ 0
TIM3_CH2
Wire Wire Line
	6500 5400 7000 5400
Wire Wire Line
	6500 5500 7000 5500
Text Label 7000 5400 2    50   ~ 0
TIM12_CH1
Text Label 7000 5500 2    50   ~ 0
TIM12_CH2
Wire Wire Line
	1800 6450 2300 6450
Wire Wire Line
	2300 6550 1800 6550
Text Label 2300 6450 2    50   ~ 0
TIM3_CH1
Text Label 2300 6550 2    50   ~ 0
TIM3_CH2
Wire Wire Line
	1800 6650 2300 6650
Wire Wire Line
	1800 6750 2300 6750
Text Label 2300 6650 2    50   ~ 0
TIM12_CH1
Text Label 2300 6750 2    50   ~ 0
TIM12_CH2
$Sheet
S 800  7150 1000 300 
U 5F24B488
F0 "Bluetooth" 50
F1 "Bluetooth.sch" 50
F2 "UART_RX" I R 1800 7250 50 
F3 "UART_TX" O R 1800 7350 50 
$EndSheet
Wire Wire Line
	6500 2600 7000 2600
Wire Wire Line
	7000 2700 6500 2700
Text Label 7000 2600 2    50   ~ 0
UART2_TX
Text Label 7000 2700 2    50   ~ 0
UART2_RX
Wire Wire Line
	1800 7250 2300 7250
Wire Wire Line
	2300 7350 1800 7350
Text Label 2300 7250 2    50   ~ 0
UART2_TX
Text Label 2300 7350 2    50   ~ 0
UART2_RX
Text Notes 2500 7400 0    50   ~ 0
Important note, UART must have these connections:\nSTM RX to IC TX\nSTM TX to IC RX
Wire Wire Line
	9100 5400 8600 5400
Wire Wire Line
	8600 5500 9100 5500
Wire Wire Line
	9100 5600 8600 5600
Text Label 8600 5500 0    50   ~ 0
SPI3_MISO
$Comp
L power:GND #PWR014
U 1 1 5F29C965
P 8600 5300
F 0 "#PWR014" H 8600 5050 50  0001 C CNN
F 1 "GND" H 8605 5127 50  0000 C CNN
F 2 "" H 8600 5300 50  0001 C CNN
F 3 "" H 8600 5300 50  0001 C CNN
	1    8600 5300
	0    1    1    0   
$EndComp
Wire Wire Line
	8600 5300 9100 5300
$Comp
L Connector_Generic:Conn_02x03_Odd_Even J1
U 1 1 5F2AE10B
P 9250 4300
F 0 "J1" H 9300 4617 50  0000 C CNN
F 1 "GPIO Analyzer" H 9300 4526 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x03_P2.54mm_Vertical" H 9250 4300 50  0001 C CNN
F 3 "~" H 9250 4300 50  0001 C CNN
	1    9250 4300
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR016
U 1 1 5F2AFF73
P 8950 4100
F 0 "#PWR016" H 8950 3950 50  0001 C CNN
F 1 "+3.3V" H 8965 4273 50  0000 C CNN
F 2 "" H 8950 4100 50  0001 C CNN
F 3 "" H 8950 4100 50  0001 C CNN
	1    8950 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8950 4100 8950 4200
Wire Wire Line
	8950 4200 9050 4200
$Comp
L power:GND #PWR018
U 1 1 5F2BA68C
P 9650 4500
F 0 "#PWR018" H 9650 4250 50  0001 C CNN
F 1 "GND" H 9655 4327 50  0000 C CNN
F 2 "" H 9650 4500 50  0001 C CNN
F 3 "" H 9650 4500 50  0001 C CNN
	1    9650 4500
	-1   0    0    -1  
$EndComp
$Comp
L MCU_ST_STM32F4:STM32F413RHTx U1
U 1 1 5C25CD9E
P 5800 3900
F 0 "U1" H 5800 4000 50  0000 C CNN
F 1 "STM32F413RHTx" H 5800 3900 50  0000 C CNN
F 2 "Package_QFP:LQFP-64_10x10mm_P0.5mm" H 5200 2200 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00282249.pdf" H 5800 3900 50  0001 C CNN
	1    5800 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 3400 7000 3400
Wire Wire Line
	7000 3500 6500 3500
Wire Wire Line
	6500 3600 7000 3600
Text Label 7000 3400 2    50   ~ 0
PA10
Text Label 7000 3500 2    50   ~ 0
PA11
Text Label 7000 3600 2    50   ~ 0
PA12
Wire Wire Line
	9050 4400 8550 4400
Wire Wire Line
	10050 4300 9550 4300
Wire Wire Line
	9550 4400 10050 4400
Text Label 8550 4400 0    50   ~ 0
PA10
Text Label 10050 4300 2    50   ~ 0
PA11
Text Label 10050 4400 2    50   ~ 0
PA12
Wire Wire Line
	6500 3300 7000 3300
Text Label 7000 3300 2    50   ~ 0
PA9
Wire Wire Line
	9050 4300 8550 4300
Text Label 8550 4300 0    50   ~ 0
PA9
Wire Wire Line
	9650 4500 9650 4200
Wire Wire Line
	9650 4200 9550 4200
$Comp
L Connector_Generic:Conn_01x04 J2
U 1 1 5F197EF8
P 9300 4850
F 0 "J2" H 9500 4750 50  0000 R CNN
F 1 "Volt/Temp SPI Analyzer" H 10300 4850 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical" H 9300 4850 50  0001 C CNN
F 3 "~" H 9300 4850 50  0001 C CNN
	1    9300 4850
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x04 J3
U 1 1 5F1A2809
P 9300 5400
F 0 "J3" H 9500 5300 50  0000 R CNN
F 1 "Current SPI Analyzer" H 10200 5400 50  0000 R CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical" H 9300 5400 50  0001 C CNN
F 3 "~" H 9300 5400 50  0001 C CNN
	1    9300 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6500 2800 7000 2800
Entry Wire Line
	7000 2800 7100 2700
Entry Wire Line
	7000 2900 7100 2800
Text Label 7000 2800 2    50   ~ 0
PA4
Entry Wire Line
	4500 4300 4600 4400
NoConn ~ 6500 2400
Text Label 8600 5600 0    50   ~ 0
SPI3_MOSI
Text Label 8600 5400 0    50   ~ 0
SPI3_CLK
Text Label 8600 4850 0    50   ~ 0
SPI1_CLK
Text Label 8600 5050 0    50   ~ 0
SPI1_MOSI
Text Notes 5950 6800 0    50   ~ 10
Graphics/Logos
$Comp
L utsvt-misc:Logo_Placeholder LOGO1
U 1 1 5F2CE831
P 6250 7000
F 0 "LOGO1" H 6250 7150 50  0001 C CNN
F 1 "Dr. Hallock" H 6390 7000 50  0000 L CNN
F 2 "UTSVT_Special:Hallock_Image_Small" H 6250 7075 50  0001 C CNN
F 3 "" H 6250 7075 50  0001 C CNN
	1    6250 7000
	1    0    0    -1  
$EndComp
$Comp
L utsvt-misc:Logo_Placeholder LOGO2
U 1 1 5F2D0A96
P 6250 7350
F 0 "LOGO2" H 6250 7500 50  0001 C CNN
F 1 "UTSVT Logo" H 6390 7350 50  0000 L CNN
F 2 "UTSVT_Special:UTSVT_Logo_Symbol" H 6250 7425 50  0001 C CNN
F 3 "" H 6250 7425 50  0001 C CNN
	1    6250 7350
	1    0    0    -1  
$EndComp
Wire Bus Line
	7100 2600 7100 3000
Wire Bus Line
	4500 3900 4500 4400
$EndSCHEMATC
